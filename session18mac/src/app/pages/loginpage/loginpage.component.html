<h2>Login</h2>

<form #login="ngForm" (ngSubmit)="login.form.valid && onLoginSubmit()">
    <input 
    name="email" 
    email required 
    placeholder="Email" 
    [(ngModel)]="userModal.email"
    #email="ngModel"
    [ngClass]=" { 'invalid-data' : (login.submitted && email.invalid) }"
    >
    <div *ngIf="login.submitted && email.invalid">
        <div *ngIf="email.errors.required">
            required email
        </div>
        <div *ngIf="email.errors.email">
            invalid email
        </div>
    </div>
    <br>
    <input 
    name="password" 
    required minlength="6"
    type="password" 
    [(ngModel)]="userModal.password"
    #password = "ngModel"
    [ngClass]=" { 'invalid-data' : (login.submitted && password.invalid) }"
    >
    <div *ngIf="login.submitted && password.invalid">
        <div *ngIf="password.errors.required">
            required password
        </div>
        <div *ngIf="password.errors.minlength">
            must be more than 6
        </div>
    </div>

    <br>
    <button>login</button>
<div *ngIf="(login.submitted&&loginflag); else logged">
invalid data
</div>
<ng-template #logged>
    logged in
</ng-template>
</form>